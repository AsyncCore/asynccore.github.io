DELIMITER //
CREATE PROCEDURE LOGIN(IN P_USERNAME VARCHAR(255), IN P_PASSWORD VARCHAR(255), OUT P_SUCCESS BOOLEAN, OUT P_USER_ID INT, OUT P_TIPO_USUARIO INT)
BEGIN
    DECLARE USER_ID INT DEFAULT NULL;
    DECLARE TIPO_USUARIO INT DEFAULT NULL;

    SELECT USER_ID, TIPO_USUARIO
    INTO USER_ID, TIPO_USUARIO
    FROM USERS
    WHERE USERNAME = P_USERNAME
      AND PASSWORD = P_PASSWORD;

    IF USER_ID IS NOT NULL THEN
        SET P_SUCCESS = TRUE;
        SET P_USER_ID = USER_ID;
        SET P_TIPO_USUARIO = TIPO_USUARIO;
    ELSE
        SET P_SUCCESS = FALSE;
    END IF;
END;
DELIMITER ;
